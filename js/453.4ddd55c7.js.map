{"version":3,"file":"js/453.4ddd55c7.js","mappings":"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","sources":["webpack://dbd_management_system/./node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_webpack@5.96.1/node_modules/vue-loader/dist/exportHelper.js","webpack://dbd_management_system/./src/api/survivor.js","webpack://dbd_management_system/./src/views/layout/survivor/SurvivorDetailsPage.vue","webpack://dbd_management_system/./src/views/layout/survivor/SurvivorDetailsPage.vue?e313"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import request from '@/utils/request'\r\n// 分页查询逃生者\r\nexport const getSurvivorListService = (params) => {\r\n  console.log('页码信息：' + params.page)\r\n  console.log('每页展示：' + params.pageSize)\r\n  return request.get('/survivor', {\r\n    params\r\n    // pagenum 当前页码数 pagesize 当前页需要的数据条数\r\n    // 其他参数根据条件封装进params\r\n  })\r\n}\r\n\r\n// 获取所有逃生者\r\nexport const getAllSurvivorService = () => {\r\n  return request.get('/survivor/all')\r\n}\r\n\r\n// 根据id查询逃生者\r\nexport const getSurvivorByIdService = (id) => {\r\n  return request.get(`/survivor/${id}`)\r\n}\r\n\r\n// 根据名称查询逃生者\r\nexport const getSurvivorByNameService = (name) => {\r\n  return request.get('/survivor/name', {\r\n    params: {\r\n      name\r\n    }\r\n  })\r\n}\r\n\r\n// 新增逃生者\r\n// 注意：data需要是formData格式\r\nexport const addSurvivorService = (data) => {\r\n  return request.post('/admin/survivor/add', data)\r\n}\r\n\r\n// 修改逃生者\r\nexport const updateSurvivorService = (data) => {\r\n  return request.put('/admin/survivor/update', data)\r\n}\r\n\r\n// 删除逃生者\r\nexport const deleteSurvivorService = (ids) => {\r\n  return request.delete(`/admin/survivor/delete/${ids}`)\r\n}\r\n\r\n// 分页查询逃生者技能\r\nexport const getSurvivorSkillListService = (params) => {\r\n  console.log('页码信息：' + params.page)\r\n  console.log('每页展示：' + params.pageSize)\r\n  return request.get('/skill/survivor', {\r\n    params\r\n    // pagenum 当前页码数 pagesize 当前页需要的数据条数\r\n    // 其他参数根据条件封装进params\r\n  })\r\n}\r\n\r\n// 根据id查询逃生者技能\r\nexport const getSkillByIdService = (id) => {\r\n  return request.get(`/skill/survivor/${id}`)\r\n}\r\n\r\n// 新增逃生者技能\r\nexport const addSkillService = (data) => {\r\n  return request.post('/admin/skill/survivor/add', data)\r\n}\r\n\r\n// 修改逃生者技能\r\nexport const updateSkillService = (data) => {\r\n  return request.put('/admin/skill/survivor/update', data)\r\n}\r\n\r\n// 删除逃生者技能\r\nexport const deleteSkillService = (ids) => {\r\n  return request.delete(`/admin/skill/survivor/delete/${ids}`)\r\n}\r\n","import { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/home/dbd-introduction04.webp';\nconst _hoisted_1 = {\n  class: \"survivor-details\"\n};\nconst _hoisted_2 = {\n  class: \"details\"\n};\nconst _hoisted_3 = {\n  class: \"header\"\n};\nconst _hoisted_4 = {\n  class: \"avatar\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"name\"\n};\nconst _hoisted_7 = {\n  class: \"icon\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"body\"\n};\nconst _hoisted_10 = {\n  class: \"skill\"\n};\nconst _hoisted_11 = {\n  class: \"left\"\n};\nconst _hoisted_12 = {\n  class: \"skill-list\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = {\n  class: \"cover\"\n};\nconst _hoisted_16 = {\n  style: {\n    \"color\": \"white\"\n  }\n};\nconst _hoisted_17 = [\"innerHTML\"];\nconst _hoisted_18 = {\n  class: \"right\"\n};\nconst _hoisted_19 = {\n  class: \"show\"\n};\nconst _hoisted_20 = [\"src\"];\nconst _hoisted_21 = {\n  class: \"story\"\n};\nconst _hoisted_22 = {\n  class: \"right\"\n};\nconst _hoisted_23 = [\"innerHTML\"];\nimport { ref } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { getSurvivorByIdService } from '@/api/survivor';\nimport defaultImage from '@/assets/icon/survivor-icon.png';\nexport default {\n  __name: 'SurvivorDetailsPage',\n  setup(__props) {\n    const route = useRoute();\n    const data = ref({});\n    const bigImage = ref();\n    const skills = ref([{\n      id: 1,\n      name: '技能1',\n      content: '<span>技能描述</span>',\n      story: ''\n    }, {\n      id: 2,\n      name: '技能2',\n      content: '<span>技能描述</span>',\n      story: ''\n    }, {\n      id: 3,\n      name: '技能3',\n      content: '<span>技能描述</span>',\n      story: ''\n    }]);\n    const skillInfoRef = ref();\n    console.log(route.query);\n\n    // 改变展示的技能\n    const changeShow = index => {\n      console.log(index);\n      // 替换\n      console.log(skills.value[index].content);\n      skillInfoRef.value.innerHTML = `\n  <h2 style=\"color: white;padding-top: 10px\">${skills.value[index].name}</h2>\n  <div v-html=${skills.value[index].content}</div>\n  `;\n      bigImage.value.src = skills.value[index].imgurl;\n    };\n\n    // 添加激活的技能\n    const addActive = e => {\n      // console.log(e.target)\n      e.target.children[1].style.opacity = 0.8;\n      e.target.children[2].style.borderTop = '5px solid red';\n      e.target.children[2].style.borderLeft = '5px solid red';\n      e.target.children[3].style.borderBottom = '5px solid red';\n      e.target.children[3].style.borderRight = '5px solid red';\n    };\n\n    // 移除激活的技能\n    const removeActive = e => {\n      // console.log(e.target)\n      e.target.children[1].style.opacity = 0;\n      e.target.children[2].style.borderTop = '0';\n      e.target.children[2].style.borderLeft = '0';\n      e.target.children[3].style.borderBottom = '0';\n      e.target.children[3].style.borderRight = '0';\n    };\n    const getSurvivorById = async () => {\n      const res = await getSurvivorByIdService(route.query.id);\n      console.log(res);\n      data.value = res.data.data;\n      console.log(data.value);\n      skills.value = data.value.survivorSkills;\n    };\n    getSurvivorById();\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n        src: data.value.image || _unref(defaultImage),\n        alt: \"\"\n      }, null, 8, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n        src: _unref(defaultImage),\n        alt: \"\"\n      }, null, 8, _hoisted_8), _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"逃生者\", -1))]), _createElementVNode(\"h1\", null, _toDisplayString(data.value.name), 1)])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", null, \"可传承技能\", -1)), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(data.value.survivorSkills, (item, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          onClick: $event => changeShow(index),\n          onMouseenter: addActive,\n          onMouseleave: removeActive,\n          class: \"skill-list-item\",\n          key: index\n        }, [_createElementVNode(\"img\", {\n          src: item.imgurl || _unref(defaultImage),\n          alt: \"\"\n        }, null, 8, _hoisted_14), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1)]), _cache[1] || (_cache[1] = _createElementVNode(\"span\", {\n          class: \"top-left\"\n        }, null, -1)), _cache[2] || (_cache[2] = _createElementVNode(\"span\", {\n          class: \"bottom-right\"\n        }, null, -1))], 40, _hoisted_13);\n      }), 128))]), _createElementVNode(\"div\", {\n        ref_key: \"skillInfoRef\",\n        ref: skillInfoRef,\n        class: \"skill-info\"\n      }, [_createElementVNode(\"h2\", _hoisted_16, _toDisplayString(skills.value[0].name), 1), _createElementVNode(\"div\", {\n        innerHTML: skills.value[0].content\n      }, null, 8, _hoisted_17)], 512)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"img\", {\n        ref_key: \"bigImage\",\n        ref: bigImage,\n        src: skills.value[0].imgurl || _unref(defaultImage),\n        alt: \"\"\n      }, null, 8, _hoisted_20), _cache[4] || (_cache[4] = _createElementVNode(\"span\", {\n        class: \"top-left\"\n      }, null, -1)), _cache[5] || (_cache[5] = _createElementVNode(\"span\", {\n        class: \"bottom-right\"\n      }, null, -1))])])]), _createElementVNode(\"div\", _hoisted_21, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n        class: \"left\"\n      }, [_createElementVNode(\"div\", {\n        class: \"image\"\n      }, [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"\"\n      })])], -1)), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"h1\", null, _toDisplayString(data.value.name) + \"的故事\", 1), _createElementVNode(\"div\", {\n        class: \"content\",\n        innerHTML: data.value.story\n      }, null, 8, _hoisted_23)])])])])]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./SurvivorDetailsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SurvivorDetailsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SurvivorDetailsPage.vue?vue&type=style&index=0&id=7d209550&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_webpack@5.96.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d209550\"]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","getSurvivorListService","params","console","log","page","pageSize","request","get","getAllSurvivorService","getSurvivorByIdService","id","getSurvivorByNameService","name","addSurvivorService","data","post","updateSurvivorService","put","deleteSurvivorService","ids","delete","getSurvivorSkillListService","getSkillByIdService","addSkillService","updateSkillService","deleteSkillService","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","style","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","__name","setup","__props","route","bigImage","skills","content","story","skillInfoRef","query","changeShow","index","value","innerHTML","src","imgurl","addActive","e","children","opacity","borderTop","borderLeft","borderBottom","borderRight","removeActive","getSurvivorById","async","res","survivorSkills","_ctx","_cache","image","alt","item","onClick","$event","onMouseenter","onMouseleave","ref_key","ref","__exports__"],"sourceRoot":""}